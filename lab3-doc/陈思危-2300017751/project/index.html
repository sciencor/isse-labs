<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TodoList - ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="style.css">
    <!-- flatpickr æ—¥æœŸé€‰æ‹©å™¨æ ·å¼ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <!-- flatpickr ä¸­æ–‡è¯­è¨€åŒ… -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/zh.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“ TodoList ä»»åŠ¡ç®¡ç†</h1>
            <div class="stats">
                <span id="total-count">æ€»è®¡: 0</span>
                <span id="pending-count">å¾…åŠ: 0</span>
                <span id="overdue-count">è¿‡æœŸ: 0</span>
            </div>
        </header>

        <!-- æ·»åŠ æ–°ä»»åŠ¡è¡¨å• -->
        <div class="add-todo-form">
            <div class="form-row">
                <input type="text" id="todo-title" placeholder="è¾“å…¥ä»»åŠ¡æ ‡é¢˜..." maxlength="100">
                <input type="text" id="todo-deadline" class="date-input" placeholder="æˆªæ­¢æ—¥æœŸï¼ˆå¦‚ï¼š2025-10-20ï¼‰">
                <button id="add-btn">æ·»åŠ ä»»åŠ¡</button>
            </div>
            <div class="form-row">
                <textarea id="todo-description" placeholder="ä»»åŠ¡æè¿°ï¼ˆå¯é€‰ï¼‰" rows="2"></textarea>
            </div>
            <div class="form-row">
                <select id="todo-priority">
                    <option value="low">ä½ä¼˜å…ˆçº§</option>
                    <option value="medium">ä¸­ä¼˜å…ˆçº§</option>
                    <option value="high">é«˜ä¼˜å…ˆçº§</option>
                </select>
                <input type="text" id="todo-category" placeholder="åˆ†ç±»ï¼ˆå¯é€‰ï¼Œé»˜è®¤ï¼šé»˜è®¤åˆ†ç±»ï¼‰" maxlength="20">
            </div>
        </div>

        <!-- ç­›é€‰å’Œæ’åº -->
        <div class="filters">
            <div class="filter-group">
                <label>æŒ‰åˆ†ç±»ç­›é€‰:</label>
                <select id="filter-category">
                    <option value="">æ‰€æœ‰åˆ†ç±»</option>
                </select>
            </div>
            <div class="filter-group">
                <label>æŒ‰ä¼˜å…ˆçº§ç­›é€‰:</label>
                <select id="filter-priority">
                    <option value="">æ‰€æœ‰ä¼˜å…ˆçº§</option>
                    <option value="high">é«˜ä¼˜å…ˆçº§</option>
                    <option value="medium">ä¸­ä¼˜å…ˆçº§</option>
                    <option value="low">ä½ä¼˜å…ˆçº§</option>
                </select>
            </div>
            <div class="filter-group">
                <label>çŠ¶æ€ç­›é€‰:</label>
                <select id="filter-status">
                    <option value="">å…¨éƒ¨å¾…åŠ</option>
                    <option value="overdue">å·²è¿‡æœŸ</option>
                    <option value="due_today">ä»Šå¤©åˆ°æœŸ</option>
                </select>
            </div>
            <div class="filter-group">
                <label>æ’åºæ–¹å¼:</label>
                <select id="sort-by">
                    <option value="deadline">æˆªæ­¢æ—¥æœŸ</option>
                    <option value="priority">ä¼˜å…ˆçº§</option>
                    <option value="title">æ ‡é¢˜</option>
                </select>
            </div>
        </div>

        <!-- ä»»åŠ¡åˆ—è¡¨ -->
        <div class="todos-container">
            <ul id="todos-list"></ul>
            <div id="empty-state" class="empty-state" style="display: none;">
                <p>æš‚æ— å¾…åŠä»»åŠ¡ï¼Œæ·»åŠ ä¸€ä¸ªæ–°ä»»åŠ¡å¼€å§‹å§ï¼</p>
            </div>

            <!-- å·²å®Œæˆä»»åŠ¡æŠ˜å åŒºåŸŸ -->
            <div class="completed-tasks-section">
                <div class="completed-indicator" id="completed-indicator">
                    <span>å·²å®Œæˆä»»åŠ¡</span>
                    <span class="completed-count-badge" id="completed-count-badge">0</span>
                    <span class="toggle-icon">â–¼</span>
                </div>
                <div class="completed-tasks-list" id="completed-tasks-list" style="display: none;">
                    <ul id="completed-todos"></ul>
                </div>
            </div>
        </div>
    </div>

    <!-- ç¼–è¾‘ä»»åŠ¡æ¨¡æ€æ¡† -->
    <div id="edit-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ç¼–è¾‘ä»»åŠ¡</h3>
                <span class="close" id="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <input type="hidden" id="edit-todo-id">
                <div class="form-group">
                    <label>æ ‡é¢˜:</label>
                    <input type="text" id="edit-todo-title" maxlength="100">
                </div>
                <div class="form-group">
                    <label>æˆªæ­¢æ—¥æœŸ:</label>
                    <input type="text" id="edit-todo-deadline" class="date-input" placeholder="æˆªæ­¢æ—¥æœŸï¼ˆå¦‚ï¼š2025-10-20ï¼‰">
                </div>
                <div class="form-group">
                    <label>æè¿°:</label>
                    <textarea id="edit-todo-description" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>ä¼˜å…ˆçº§:</label>
                    <select id="edit-todo-priority">
                        <option value="low">ä½ä¼˜å…ˆçº§</option>
                        <option value="medium">ä¸­ä¼˜å…ˆçº§</option>
                        <option value="high">é«˜ä¼˜å…ˆçº§</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>åˆ†ç±»:</label>
                    <input type="text" id="edit-todo-category" placeholder="é»˜è®¤ï¼šé»˜è®¤åˆ†ç±»" maxlength="20">
                </div>
            </div>
            <div class="modal-footer">
                <button id="save-edit-btn" class="btn-primary">ä¿å­˜</button>
                <button id="cancel-edit-btn" class="btn-secondary">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

            <!-- flatpickr æ—¥æœŸé€‰æ‹©å™¨è„šæœ¬ -->
            <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    flatpickr('#todo-deadline', {
                        dateFormat: 'Y-m-d',
                        locale: flatpickr.l10ns.zh,
                        allowInput: true,
                        defaultDate: new Date(),
                        ariaDateFormat: 'Yå¹´mæœˆdæ—¥',
                        weekNumbers: true
                    });
                    flatpickr('#edit-todo-deadline', {
                        dateFormat: 'Y-m-d',
                        locale: flatpickr.l10ns.zh,
                        allowInput: true,
                        defaultDate: new Date(),
                        ariaDateFormat: 'Yå¹´mæœˆdæ—¥',
                        weekNumbers: true
                    });
                });
            </script>
            <script src="script.js"></script>
</body>
</html>